{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Thiago\\\\Desktop\\\\projetos\\\\react\\\\dogs\\\\dogs\\\\src\\\\Components\\\\Feed\\\\Feed.js\";\nimport React from 'react';\nimport FeedModal from './FeedModal';\nimport FeedPhotos from './FeedPhotos';\nimport PropTypes from 'prop-types';\nconst Feed = _ref => {\n  let {\n    user\n  } = _ref;\n  const [modalPhoto, setModalPhoto] = React.useState(null);\n  const [pages, setPages] = React.useState([1]);\n  const [infinite, setInfinite] = React.useState(true);\n  React.useEffect(() => {\n    let wait = false;\n    function infiniteScroll() {\n      if (infinite) {\n        const scroll = window.scrollY;\n        const height = document.body.offsetHeight - window.innerHeight;\n        if (scroll > height * 0.75 && !wait) {\n          setPages(pages => [...pages, pages.length + 1]);\n          wait = true;\n          setTimeout(() => {\n            wait = false;\n          }, 500);\n        }\n      }\n    }\n    window.addEventListener('wheel', infiniteScroll);\n    window.addEventListener('scroll', infiniteScroll);\n    return () => {\n      window.removeEventListener('wheel', infiniteScroll);\n      window.removeEventListener('scroll', infiniteScroll);\n    };\n  }, [infinite]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, modalPhoto && /*#__PURE__*/React.createElement(FeedModal, {\n    photo: modalPhoto,\n    setModalPhoto: setModalPhoto,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), pages.map(page => /*#__PURE__*/React.createElement(FeedPhotos, {\n    key: page,\n    user: user,\n    page: page,\n    setModalPhoto: setModalPhoto,\n    setInfinite: setInfinite,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  })), !infinite && !user && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      padding: '2rem 0 4rem 0',\n      color: '#888'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"N\\xE3o existem mais postagens.\"));\n};\nFeed.defaultProps = {\n  user: 0\n};\nFeed.propTypes = {\n  user: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.number.isRequired])\n};\nexport default Feed;","map":{"version":3,"names":["React","FeedModal","FeedPhotos","PropTypes","Feed","user","modalPhoto","setModalPhoto","useState","pages","setPages","infinite","setInfinite","useEffect","wait","infiniteScroll","scroll","window","scrollY","height","document","body","offsetHeight","innerHeight","length","setTimeout","addEventListener","removeEventListener","map","page","textAlign","padding","color","defaultProps","propTypes","oneOfType","string","isRequired","number"],"sources":["C:/Users/Thiago/Desktop/projetos/react/dogs/dogs/src/Components/Feed/Feed.js"],"sourcesContent":["import React from 'react';\nimport FeedModal from './FeedModal';\nimport FeedPhotos from './FeedPhotos';\nimport PropTypes from 'prop-types';\n\nconst Feed = ({ user }) => {\n  const [modalPhoto, setModalPhoto] = React.useState(null);\n  const [pages, setPages] = React.useState([1]);\n  const [infinite, setInfinite] = React.useState(true);\n\n  React.useEffect(() => {\n    let wait = false;\n    function infiniteScroll() {\n      if (infinite) {\n        const scroll = window.scrollY;\n        const height = document.body.offsetHeight - window.innerHeight;\n        if (scroll > height * 0.75 && !wait) {\n          setPages((pages) => [...pages, pages.length + 1]);\n          wait = true;\n          setTimeout(() => {\n            wait = false;\n          }, 500);\n        }\n      }\n    }\n\n    window.addEventListener('wheel', infiniteScroll);\n    window.addEventListener('scroll', infiniteScroll);\n    return () => {\n      window.removeEventListener('wheel', infiniteScroll);\n      window.removeEventListener('scroll', infiniteScroll);\n    };\n  }, [infinite]);\n\n  return (\n    <div>\n      {modalPhoto && (\n        <FeedModal photo={modalPhoto} setModalPhoto={setModalPhoto} />\n      )}\n      {pages.map((page) => (\n        <FeedPhotos\n          key={page}\n          user={user}\n          page={page}\n          setModalPhoto={setModalPhoto}\n          setInfinite={setInfinite}\n        />\n      ))}\n      {!infinite && !user && (\n        <p\n          style={{\n            textAlign: 'center',\n            padding: '2rem 0 4rem 0',\n            color: '#888',\n          }}\n        >\n          NÃ£o existem mais postagens.\n        </p>\n      )}\n    </div>\n  );\n};\n\nFeed.defaultProps = {\n  user: 0,\n};\n\nFeed.propTypes = {\n  user: PropTypes.oneOfType([\n    PropTypes.string.isRequired,\n    PropTypes.number.isRequired,\n  ]),\n};\n\nexport default Feed;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,SAAS,MAAM,YAAY;AAElC,MAAMC,IAAI,GAAG,QAAc;EAAA,IAAb;IAAEC;EAAK,CAAC;EACpB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGP,KAAK,CAACQ,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,KAAK,CAACQ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACG,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,KAAK,CAACQ,QAAQ,CAAC,IAAI,CAAC;EAEpDR,KAAK,CAACa,SAAS,CAAC,MAAM;IACpB,IAAIC,IAAI,GAAG,KAAK;IAChB,SAASC,cAAc,GAAG;MACxB,IAAIJ,QAAQ,EAAE;QACZ,MAAMK,MAAM,GAAGC,MAAM,CAACC,OAAO;QAC7B,MAAMC,MAAM,GAAGC,QAAQ,CAACC,IAAI,CAACC,YAAY,GAAGL,MAAM,CAACM,WAAW;QAC9D,IAAIP,MAAM,GAAGG,MAAM,GAAG,IAAI,IAAI,CAACL,IAAI,EAAE;UACnCJ,QAAQ,CAAED,KAAK,IAAK,CAAC,GAAGA,KAAK,EAAEA,KAAK,CAACe,MAAM,GAAG,CAAC,CAAC,CAAC;UACjDV,IAAI,GAAG,IAAI;UACXW,UAAU,CAAC,MAAM;YACfX,IAAI,GAAG,KAAK;UACd,CAAC,EAAE,GAAG,CAAC;QACT;MACF;IACF;IAEAG,MAAM,CAACS,gBAAgB,CAAC,OAAO,EAAEX,cAAc,CAAC;IAChDE,MAAM,CAACS,gBAAgB,CAAC,QAAQ,EAAEX,cAAc,CAAC;IACjD,OAAO,MAAM;MACXE,MAAM,CAACU,mBAAmB,CAAC,OAAO,EAAEZ,cAAc,CAAC;MACnDE,MAAM,CAACU,mBAAmB,CAAC,QAAQ,EAAEZ,cAAc,CAAC;IACtD,CAAC;EACH,CAAC,EAAE,CAACJ,QAAQ,CAAC,CAAC;EAEd,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACGL,UAAU,iBACT,oBAAC,SAAS;IAAC,KAAK,EAAEA,UAAW;IAAC,aAAa,EAAEC,aAAc;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAC5D,EACAE,KAAK,CAACmB,GAAG,CAAEC,IAAI,iBACd,oBAAC,UAAU;IACT,GAAG,EAAEA,IAAK;IACV,IAAI,EAAExB,IAAK;IACX,IAAI,EAAEwB,IAAK;IACX,aAAa,EAAEtB,aAAc;IAC7B,WAAW,EAAEK,WAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAE5B,CAAC,EACD,CAACD,QAAQ,IAAI,CAACN,IAAI,iBACjB;IACE,KAAK,EAAE;MACLyB,SAAS,EAAE,QAAQ;MACnBC,OAAO,EAAE,eAAe;MACxBC,KAAK,EAAE;IACT,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACH,gCAED,CACD,CACG;AAEV,CAAC;AAED5B,IAAI,CAAC6B,YAAY,GAAG;EAClB5B,IAAI,EAAE;AACR,CAAC;AAEDD,IAAI,CAAC8B,SAAS,GAAG;EACf7B,IAAI,EAAEF,SAAS,CAACgC,SAAS,CAAC,CACxBhC,SAAS,CAACiC,MAAM,CAACC,UAAU,EAC3BlC,SAAS,CAACmC,MAAM,CAACD,UAAU,CAC5B;AACH,CAAC;AAED,eAAejC,IAAI"},"metadata":{},"sourceType":"module"}